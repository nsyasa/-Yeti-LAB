/* Main CSS Entry Point */

/* Tailwind v4 Setup */
@import 'tailwindcss';

@theme {
    /* Brand Colors */
    --color-primary-50: #f0fdfa;
    --color-primary-100: #ccfbf1;
    --color-primary-200: #99f6e4;
    --color-primary-300: #5eead4;
    --color-primary-400: #2dd4bf;
    --color-primary-500: #00979c;
    --color-primary-600: #0d9488;
    --color-primary-700: #0f766e;
    --color-primary-800: #115e59;
    --color-primary-900: #134e4a;
    --color-primary-950: #042f2e;

    /* Theme Semantic Aliases */
    --color-theme: var(--color-primary-500);
    --color-theme-light: var(--color-primary-50);

    /* Spacing (Tailwind v4 already has a great default spacing scale, 
     but we'll define our specific aliases if needed) */
    --spacing-px: 1px;

    /* Typography */
    --font-sans: 'Nunito', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;

    /* Shadows */
    --shadow-card: 0 1px 3px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.06);
    --shadow-card-hover: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
    --shadow-primary: 0 4px 14px 0 rgba(0, 151, 156, 0.3);

    /* Radius */
    --radius-xl: 0.75rem;
    --radius-2xl: 1rem;

    /* Letter Spacing */
    --tracking-tighter: -0.02em;
    --tracking-tightest: -0.05em;
}

/* Explicit Sources for Tailwind Scanning */
@source "../auth.html";
@source "../index.html";
@source "../profile.html";
@source "../teacher.html";
@source "../admin.html";
@source "../student-dashboard.html";
@source "../src/**/*.js";
@source "../modules/**/*.js";
@source "../views/**/*.js";
@source "../data/**/*.js";

/* Custom CSS Layers */
@layer base {
    /* ============================================
     GLOBAL LAYOUT STABILIZATION
     Prevents layout shift during page transitions
     ============================================ */

    /* HTML'e de koyu renk vererek alttaki beyaz şerit sorununu (overscroll) engelle */
    html {
        background-color: var(--lab-bg-dark, #0f172a);
        height: 100%;
        overflow-y: scroll;
        /* Scrollbar kaymasını engeller */
        scrollbar-gutter: stable;
    }

    /* 100vh yerine 100dvh (dynamic viewport height) kullanarak mobil adres çubuğu sorununu çöz */
    body {
        @apply font-sans transition-colors duration-300;
        background-color: var(--lab-bg-dark, #0f172a);
        color: var(--text-secondary, #cbd5e1);
        min-height: 100dvh;
        /* MOBİL İÇİN KRİTİK DEĞİŞİKLİK */
        display: flex;
        flex-direction: column;
        overflow-x: hidden;
        /* Prevent horizontal scroll */
    }

    /* Dark mode is now default - this ensures consistency */
    body,
    body.dark-mode,
    html.dark body,
    html.dark-mode body {
        background-color: var(--lab-bg-dark, #0f172a);
        color: var(--text-secondary, #cbd5e1);
    }

    /* Light mode override (only if explicitly set) */
    html.light body,
    html[data-theme='light'] body {
        @apply bg-gray-50 text-gray-900;
    }

    /* Consistent heading typography across all pages */
    h1 {
        font-size: var(--heading-h1, clamp(2rem, 5vw, 3rem));
        @apply font-extrabold tracking-tight leading-tight text-white;
    }

    h2 {
        font-size: var(--heading-h2, clamp(1.5rem, 4vw, 2.25rem));
        @apply font-bold tracking-tight leading-tight text-white;
    }

    h3 {
        font-size: var(--heading-h3, clamp(1.25rem, 3vw, 1.5rem));
        @apply font-semibold text-white;
    }

    h4 {
        font-size: var(--heading-h4, clamp(1rem, 2.5vw, 1.25rem));
        @apply font-semibold text-white;
    }
}

/* ============================================
     COURSE CARDS - Premium Glassmorphism & Hover Effects
     CLS Prevention: Fixed dimensions to prevent layout shift
     ============================================ */
.course-card {
    @apply relative overflow-hidden transition-all duration-300 border border-black/10 rounded-2xl bg-white;
    transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);

    /* CLS Prevention: Fixed minimum dimensions */
    min-height: 220px;
    /* Mobile */
    contain: layout style;
    /* Optimize reflows */
}

@media (min-width: 1024px) {
    .course-card {
        min-height: 280px;
        /* Desktop */
    }
}

/* Dark mode glassmorphism - Balanced for content visibility */
.dark .course-card,
.dark-mode .course-card,
html.dark .course-card {
    background: rgba(30, 41, 59, 0.9);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.15);
}

.course-card::before {
    content: '';
    @apply absolute inset-0 opacity-0 transition-opacity duration-300 pointer-events-none z-0;
    background: linear-gradient(135deg, transparent 0%, rgba(0, 212, 255, 0.05) 100%);
}

.course-card:hover {
    @apply -translate-y-2 scale-105;
    filter: brightness(1.1);
    box-shadow:
        0 0 35px rgba(0, 151, 156, 0.3),
        0 20px 50px -10px rgba(0, 0, 0, 0.4);
    border-color: rgba(0, 212, 255, 0.5);
}

.course-card:hover::before {
    @apply opacity-100;
}

/* Shimmer Effect on Hover */
.course-card::after {
    content: '';
    @apply absolute -inset-[50%] w-[200%] h-[200%] transition-transform duration-700 pointer-events-none z-10;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);
    transform: rotate(45deg) translateX(-100%);
}

.course-card:hover::after {
    transform: rotate(45deg) translateX(100%);
}

/* ============================================
     COURSE CARD INTERNAL ELEMENTS - CLS Prevention
     ============================================ */

/* Icon container - Fixed dimensions */
.course-card > div:first-child:not(.level-badge) {
    width: 56px;
    height: 56px;
    min-width: 56px;
    min-height: 56px;
}

@media (min-width: 1024px) {
    .course-card > div:first-child:not(.level-badge) {
        width: 72px;
        height: 72px;
        min-width: 72px;
        min-height: 72px;
    }
}

/* Title - Fixed height with line-clamp */
.course-card h3 {
    min-height: 2.5rem;
    /* ~2 lines */
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Description - Fixed height */
.course-card p.line-clamp-2 {
    min-height: 2.5rem;
}

/* CTA Button Container - Fixed height */
.course-card .mt-3 {
    min-height: 42px;
}

@media (min-width: 1024px) {
    .course-card .mt-3 {
        min-height: 48px;
    }
}

/* Hotspots */
.hotspot {
    @apply absolute w-6 h-6 bg-theme/80 border-2 border-white rounded-full cursor-pointer z-20 shadow-md flex items-center justify-center text-white font-bold text-sm transition-all duration-300;
}

.hotspot:hover {
    @apply scale-150 bg-orange-500;
}

/* Skeleton Loading */
.skeleton {
    @apply bg-slate-200 bg-[length:200%_100%] rounded-lg;
    background-image: linear-gradient(90deg, #e5e7eb 25%, #f3f4f6 50%, #e5e7eb 75%);
    animation: skeleton-shimmer 1.5s infinite ease-in-out;
}

body.dark-mode .skeleton,
html.dark .skeleton,
html.dark-mode .skeleton {
    background-image: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
}

/* Skeleton Card - Match real course card dimensions for CLS prevention */
.skeleton-card {
    @apply relative overflow-hidden rounded-2xl bg-white dark:bg-slate-800/70 p-4 lg:p-5;
    min-height: 220px;
}

@media (min-width: 1024px) {
    .skeleton-card {
        min-height: 280px;
    }
}

.skeleton-icon {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    margin: 0 auto 0.5rem;
}

@media (min-width: 1024px) {
    .skeleton-icon {
        width: 72px;
        height: 72px;
        margin-bottom: 0.75rem;
    }
}

.skeleton-title {
    height: 1.25rem;
    width: 80%;
    margin: 0 auto 0.5rem;
    border-radius: 0.5rem;
}

.skeleton-text {
    height: 0.75rem;
    width: 90%;
    margin: 0 auto 0.25rem;
    border-radius: 0.25rem;
}

.skeleton-btn {
    height: 2.5rem;
    width: 100%;
    margin-top: auto;
    border-radius: 0.75rem;
}

@media (min-width: 1024px) {
    .skeleton-btn {
        height: 2.75rem;
    }
}

@keyframes skeleton-shimmer {
    0% {
        background-position: 200% 0;
    }

    100% {
        background-position: -200% 0;
    }
}

/* ============================================
     LAYOUT TRANSITIONS & OVERLAYS
     ============================================ */

/* ============================================
   GLOBAL CONTAINER - Consistent across all pages
   ============================================ */
.container,
.page-container,
#main-content > .container,
#main-content > .max-w-7xl {
    max-width: 1280px;
    margin-left: auto;
    margin-right: auto;
    padding-left: 1rem;
    padding-right: 1rem;
}

@media (min-width: 640px) {
    .container,
    .page-container,
    #main-content > .container,
    #main-content > .max-w-7xl {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }
}

@media (min-width: 1024px) {
    .container,
    .page-container,
    #main-content > .container,
    #main-content > .max-w-7xl {
        padding-left: 2rem;
        padding-right: 2rem;
    }
}

/* Header Base State - Glassmorphism with FIXED HEIGHT */
#main-header {
    @apply transition-transform duration-300 ease-in-out;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    will-change: transform;
    transition-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);

    /* Fixed height for layout stability */
    height: 64px;
    min-height: 64px;
    max-height: 64px;
}

@media (min-width: 1024px) {
    #main-header {
        height: 72px;
        min-height: 72px;
        max-height: 72px;
    }
}

.dark #main-header,
.dark-mode #main-header,
html.dark #main-header {
    background: rgba(15, 23, 42, 0.9);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

#main-header.nav-hidden {
    @apply -translate-y-full pointer-events-none;
}

#main-header.header-scrolled {
    @apply shadow-lg;
}

/* Bottom Nav */
#mobile-bottom-nav {
    @apply transition-transform duration-300 ease-in-out border-t border-black/5 bg-white/95 backdrop-blur-md;
    will-change: transform;
    transition-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
}

#mobile-bottom-nav.nav-hidden {
    @apply translate-y-full pointer-events-none;
}

/* Sidebar */
#lesson-sidebar {
    @apply -translate-x-full transition-transform duration-300 ease-in-out z-[60];
}

#lesson-sidebar.open {
    @apply translate-x-0;
}

.sidebar-overlay {
    @apply fixed inset-0 bg-black/50 opacity-0 pointer-events-none transition-opacity duration-300 z-[55];
}

.sidebar-overlay.open {
    @apply opacity-100 pointer-events-auto;
}

.active-lesson {
    @apply bg-theme-light text-theme border-r-4 border-theme;
}

/* Sidebar dark mode glassmorphism */
#lesson-sidebar {
    background: rgba(15, 23, 42, 0.95);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-right: 1px solid rgba(255, 255, 255, 0.1);
}

#sidebar-content {
    @apply py-2;
}

/* ============================================
       BRANDING & TYPOGRAPHY
       ============================================ */
.brand-logo {
    @apply font-bold leading-none tracking-tighter;
}

.brand-logo .brand-lab {
    @apply font-black tracking-tightest text-[1.1em];
}

.brand-slogan {
    @apply font-semibold opacity-85 text-[0.8rem] tracking-tight;
}

.text-display {
    @apply font-extrabold tracking-tightest leading-[1.05];
}

.card-title {
    @apply font-bold tracking-tight;
}

/* ============================================
       PANEL SPECIFIC COMPONENTS
       ============================================ */

/* Panel Backgrounds */
.teacher-bg,
.admin-bg {
    @apply min-h-screen transition-colors duration-500;
    background: linear-gradient(135deg, #f0fdfa 0%, #ecfdf5 50%, #f0f9ff 100%);
}

body.dark-mode .teacher-bg,
body.dark-mode .admin-bg,
html.dark .teacher-bg,
html.dark .admin-bg,
html.dark-mode .teacher-bg,
html.dark-mode .admin-bg {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
}

/* Glass Cards */
.glass-card {
    @apply bg-white/90 backdrop-blur-xl border border-white/80 shadow-lg transition-all duration-300 rounded-2xl p-6;
}

.glass-card:hover {
    @apply -translate-y-0.5 shadow-xl;
}

body.dark-mode .glass-card,
html.dark .glass-card,
html.dark-mode .glass-card {
    @apply bg-slate-900/90 border-slate-700/50;
}

/* Stat Badges */
.stat-badge {
    @apply text-sm leading-tight transition-all duration-200 rounded-xl p-4 shadow-sm hover:-translate-y-0.5 hover:shadow-md;
}

/* Classroom Code Box */
.code-box-display {
    @apply font-mono text-2xl font-bold tracking-widest bg-emerald-50 border-2 border-dashed border-emerald-500 p-3 rounded-xl text-center text-emerald-600 cursor-pointer transition-all duration-300 hover:scale-[1.02] hover:bg-emerald-100;
    user-select: all;
}

body.dark-mode .code-box-display,
html.dark .code-box-display,
html.dark-mode .code-box-display {
    @apply bg-emerald-950/40 border-emerald-400 text-emerald-300 hover:bg-emerald-900/60;
}

/* ============================================
       DASHBOARD LESSON CARDS - Glassmorphism
       ============================================ */
.lesson-card {
    @apply relative overflow-hidden transition-all duration-300 rounded-xl cursor-pointer;
    background: rgba(30, 41, 59, 0.95);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.12);
    transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.lesson-card:hover {
    @apply -translate-y-1 scale-[1.03];
    background: rgba(30, 41, 59, 1);
    border-color: rgba(255, 140, 0, 0.4);
    box-shadow:
        0 8px 32px rgba(255, 140, 0, 0.15),
        0 0 0 1px rgba(255, 140, 0, 0.2);
}

.lesson-card .lesson-icon {
    @apply text-2xl mb-2 transition-transform duration-300;
}

.lesson-card:hover .lesson-icon {
    @apply scale-110;
}

.lesson-card .lesson-title {
    @apply font-bold text-white text-sm leading-tight transition-colors duration-300;
}

.lesson-card:hover .lesson-title {
    color: var(--cta-start, #ff8c00);
}

.lesson-card .lesson-meta {
    @apply text-xs text-slate-400;
}

/* Lesson card mini progress bar */
.lesson-progress {
    @apply absolute bottom-0 left-0 right-0 h-1 overflow-hidden;
    background: rgba(0, 0, 0, 0.3);
}

.lesson-progress-fill {
    @apply h-full transition-all duration-500;
    background: linear-gradient(90deg, var(--cta-start, #ff8c00), var(--cta-end, #ff4500));
}

/* Completed lesson checkmark */
.lesson-complete-badge {
    @apply absolute -top-1 -right-1 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold z-10;
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4);
}

/* Locked lesson overlay */
.lesson-locked {
    @apply relative;
}

.lesson-locked::before {
    content: '';
    @apply absolute inset-0 z-20 rounded-xl;
    background: rgba(15, 23, 42, 0.7);
    backdrop-filter: blur(3px);
}

.lesson-lock-icon {
    @apply absolute inset-0 z-30 flex items-center justify-center text-2xl opacity-80;
}

.lesson-locked .lesson-title,
.lesson-locked .lesson-meta {
    @apply opacity-40;
}

/* ============================================
       DASHBOARD SECTION HEADERS - Glow Effect
       ============================================ */
.phase-header {
    @apply flex items-center gap-3 mt-8 mb-4 pb-3 relative;
}

.phase-header::after {
    content: '';
    @apply absolute bottom-0 left-0 h-0.5;
    width: 60%;
    background: linear-gradient(90deg, var(--cta-start, #ff8c00), transparent);
    opacity: 0.6;
}

.phase-header-icon {
    @apply text-2xl relative;
    filter: drop-shadow(0 0 8px rgba(255, 140, 0, 0.5));
    animation: icon-glow 2s ease-in-out infinite alternate;
}

@keyframes icon-glow {
    0% {
        filter: drop-shadow(0 0 5px rgba(255, 140, 0, 0.3));
    }

    100% {
        filter: drop-shadow(0 0 12px rgba(255, 140, 0, 0.7));
    }
}

.phase-header-title {
    @apply text-lg font-bold text-white tracking-tight;
}

.phase-header-desc {
    @apply text-sm text-slate-400;
}

/* Dashboard container dark mode */
.dashboard-content {
    @apply p-4;
}

/* ============================================
       LESSON PAGE - Research Lab Theme
       ============================================ */

/* Dark Glassmorphic Content Panel */
.lesson-content-panel {
    background: rgba(15, 23, 42, 0.85);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.lesson-content-panel h2,
.lesson-content-panel h3,
.lesson-content-panel h4,
.lesson-content-panel p,
.lesson-content-panel span,
.lesson-content-panel li,
.lesson-content-panel label {
    @apply text-white;
}

.lesson-content-panel .text-gray-600,
.lesson-content-panel .text-gray-700,
.lesson-content-panel .text-gray-800 {
    @apply text-slate-300;
}

.lesson-content-panel .text-gray-400,
.lesson-content-panel .text-gray-500 {
    @apply text-slate-400;
}

/* Header section in lesson panel */
.lesson-header {
    background: rgba(15, 23, 42, 0.6);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

/* Tab Buttons - Glowing Orange Active State */
.lesson-tab {
    @apply relative px-5 py-3.5 text-sm font-semibold transition-all duration-300;
    color: rgba(255, 255, 255, 0.6);
    background: transparent;
    border-bottom: 2px solid transparent;
}

.lesson-tab:hover {
    color: rgba(255, 255, 255, 0.9);
    background: rgba(255, 140, 0, 0.1);
}

.lesson-tab.active {
    color: #fff;
    background: rgba(255, 140, 0, 0.15);
    border-bottom-color: transparent;
}

.lesson-tab.active::after {
    content: '';
    @apply absolute bottom-0 left-2 right-2 h-0.5;
    background: linear-gradient(90deg, var(--cta-start, #ff8c00), var(--cta-end, #ff4500));
    box-shadow:
        0 0 12px rgba(255, 140, 0, 0.6),
        0 0 24px rgba(255, 140, 0, 0.3);
    border-radius: 2px;
}

.lesson-tab-icon {
    @apply mr-2 text-base;
}

/* Tab container */
.lesson-tabs-container {
    background: rgba(15, 23, 42, 0.7);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
}

/* Content Area - Dark Theme */
.lesson-content-area {
    @apply p-6;
    background: rgba(15, 23, 42, 0.5);
}

.lesson-content-area .bg-gray-50,
.lesson-content-area .bg-gray-100 {
    background: rgba(30, 41, 59, 0.8) !important;
    @apply border border-slate-600/50 text-white;
}

.lesson-content-area .bg-white {
    background: rgba(30, 41, 59, 0.9) !important;
    @apply border border-slate-600/30 text-white;
}

.lesson-content-area .bg-yellow-50 {
    background: rgba(234, 179, 8, 0.15) !important;
    @apply border-l-4 border-yellow-500;
}

.lesson-content-area .bg-blue-50 {
    background: rgba(59, 130, 246, 0.15) !important;
}

/* Code Blocks - Dark Inset Background */
.lesson-content-area pre,
.lesson-content-area code {
    @apply bg-slate-900 text-green-400 border border-slate-700;
}

.lesson-content-area .code-scroll {
    background: #0d1117 !important;
    @apply border border-slate-700 rounded-lg;
}

/* Quiz Styling */
.lesson-content-area .quiz-question {
    background: rgba(30, 41, 59, 0.8) !important;
    @apply border border-slate-600/50;
}

.lesson-content-area .quiz-question p {
    @apply text-white;
}

.lesson-content-area .quiz-question button {
    background: rgba(51, 65, 85, 0.8) !important;
    @apply text-white border-slate-600 hover:bg-slate-600;
}

/* Materials Cards */
.lesson-content-area .flex.items-start.bg-white,
.lesson-content-area .flex.items-center.bg-gray-50 {
    background: rgba(30, 41, 59, 0.8) !important;
    @apply border border-slate-600/50 rounded-lg;
}

.lesson-content-area .flex.items-start.bg-white h4,
.lesson-content-area .flex.items-start.bg-white p {
    @apply text-white;
}

/* Navigation Buttons - Brand Gradient */
.lesson-nav-btn {
    @apply relative px-5 py-2.5 rounded-xl font-bold text-sm transition-all duration-300 transform;
    background: rgba(30, 41, 59, 0.9);
    border: 1px solid rgba(255, 140, 0, 0.3);
    color: #fff;
}

.lesson-nav-btn:hover {
    @apply scale-105;
    border-color: rgba(255, 140, 0, 0.6);
    box-shadow:
        0 0 20px rgba(255, 140, 0, 0.25),
        inset 0 0 20px rgba(255, 140, 0, 0.05);
}

.lesson-nav-btn:active {
    @apply scale-95;
}

.lesson-nav-btn.primary {
    background: linear-gradient(135deg, var(--cta-start, #ff8c00), var(--cta-end, #ff4500));
    border: none;
    box-shadow: 0 4px 15px rgba(255, 140, 0, 0.3);
}

.lesson-nav-btn.primary:hover {
    box-shadow: 0 6px 25px rgba(255, 140, 0, 0.5);
}

/* ============================================
       VIRTUAL LAB - Research Lab Frame
       ============================================ */
.virtual-lab-container {
    background: rgba(15, 23, 42, 0.95);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    @apply rounded-xl overflow-hidden;
}

.virtual-lab-header {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    @apply px-4 py-3 flex justify-between items-center;
}

.virtual-lab-title {
    @apply font-bold text-white tracking-wide flex items-center gap-2;
}

/* Live Badge with Pulse Animation */
.live-badge {
    @apply relative px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider;
    background: linear-gradient(135deg, #dc2626, #b91c1c);
    color: white;
    box-shadow: 0 0 15px rgba(220, 38, 38, 0.5);
}

.live-badge::before {
    content: '';
    @apply absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 rounded-full;
    background: #fff;
    animation: live-pulse 1.5s ease-in-out infinite;
}

@keyframes live-pulse {
    0%,
    100% {
        opacity: 1;
        transform: translateY(-50%) scale(1);
    }

    50% {
        opacity: 0.5;
        transform: translateY(-50%) scale(1.3);
    }
}

/* Fullscreen Toggle Button */
.fullscreen-btn {
    @apply p-2 rounded-lg transition-all duration-300;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #fff;
}

.fullscreen-btn:hover {
    background: rgba(255, 140, 0, 0.2);
    border-color: rgba(255, 140, 0, 0.5);
    box-shadow: 0 0 15px rgba(255, 140, 0, 0.3);
}

.virtual-lab-content {
    @apply relative flex-grow flex flex-col justify-center items-center;
    background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
}

.virtual-lab-controls {
    background: rgba(15, 23, 42, 0.95);
    backdrop-filter: blur(8px);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    @apply p-3;
}

/* Info Box - Dark Theme */
.virtual-lab-info {
    background: rgba(30, 58, 138, 0.3);
    border-top: 1px solid rgba(59, 130, 246, 0.3);
    @apply p-4 text-sm;
}

.virtual-lab-info,
.virtual-lab-info span,
.virtual-lab-info p {
    @apply text-blue-100;
}

.virtual-lab-info #info-title {
    @apply text-white font-bold text-lg;
}

/* Chart Card - Dark Theme */
.chart-card {
    background: rgba(15, 23, 42, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.1);
    @apply rounded-xl p-4;
}

.chart-card h4 {
    @apply text-slate-400;
}

/* =========================================
   YATAY KAYDIRMA VE GÖRSELLİK (GELİŞMİŞ VERSİYON)
   ========================================= */

/* 1. Kapsayıcı (Container) */
#project-tabs-container {
    display: flex !important;
    flex-wrap: nowrap !important;
    overflow-x: auto !important;
    width: 100% !important;
    gap: 12px !important;
    /* Butonlar arası boşluğu biraz açtık */
    padding-bottom: 5px !important;
    /* Scrollbar ile butonlar arasına mesafe */
    padding-right: 50px !important;

    /* Standart Scrollbar Ayarı */
    scrollbar-width: auto !important;
    scrollbar-color: rgba(255, 140, 0, 0.6) rgba(0, 0, 0, 0.1);
}

/* 2. Scrollbar Tasarımı (Chrome/Safari/Edge) */
#project-tabs-container::-webkit-scrollbar {
    display: block !important;
    height: 10px !important;
    /* DAHA KALIN (Eskisi 6px idi) */
}

#project-tabs-container::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    /* Arkaplan çok silik */
    border-radius: 10px;
}

#project-tabs-container::-webkit-scrollbar-thumb {
    /* Turuncu renk + %60 Görünürlük (Hafif Saydam) */
    background-color: rgba(255, 140, 0, 0.6) !important;
    border-radius: 10px;
    /* Yuvarlak köşeler */
    border: 2px solid transparent;
    /* Etrafına boşluk bırakır, daha şık durur */
    background-clip: content-box;
}

#project-tabs-container::-webkit-scrollbar-thumb:hover {
    background-color: rgba(255, 140, 0, 0.9) !important;
    /* Üstüne gelince netleşsin */
}

/* 3. Butonlar (Asla Sıkışma!) */
#project-tabs-container > button {
    flex: 0 0 auto !important;
    min-width: max-content !important;
    flex-shrink: 0 !important;
    opacity: 0.7;
    /* Pasif sekmeler biraz sönük dursun */
    transition: all 0.3s ease;
    /* Yumuşak geçiş efekti */
}

/* 4. AKTİF SEKME AYARI (Seçili Olan Parlasın) */
#project-tabs-container > button.active,
#project-tabs-container > button:hover {
    opacity: 1 !important;
    /* Tam görünür yap */
    background-color: rgba(255, 140, 0, 0.15) !important;
    /* Arkasına hafif turuncu fon */
    border-bottom: 2px solid #ff8c00 !important;
    /* Altına turuncu çizgi çek */
    color: #ff8c00 !important;
    /* Yazı rengini turuncu yap */
    transform: translateY(-2px);
    /* Hafifçe yukarı kalksın */
}

/* ============================================
   DARK MODE CONTRAST FIXES
   Fix for unreadable text in quiz questions and hint boxes
   ============================================ */

/* Quiz/Test Questions - High Contrast Text */
.dark .quiz-question,
.dark-mode .quiz-question,
html.dark .quiz-question {
    background: rgba(30, 41, 59, 0.9) !important;
    border: 1px solid rgba(255, 255, 255, 0.15) !important;
}

.dark .quiz-question h3,
.dark .quiz-question p,
.dark .quiz-question span,
.dark .quiz-question label,
.dark-mode .quiz-question h3,
.dark-mode .quiz-question p,
.dark-mode .quiz-question span,
.dark-mode .quiz-question label,
html.dark .quiz-question h3,
html.dark .quiz-question p,
html.dark .quiz-question span,
html.dark .quiz-question label {
    color: #f1f5f9 !important;
    /* Slate-100 - High contrast white */
}

.dark .quiz-question .font-bold,
.dark-mode .quiz-question .font-bold,
html.dark .quiz-question .font-bold {
    color: #ffffff !important;
}

/* Quiz Feedback Text */
.dark .quiz-feedback,
.dark-mode .quiz-feedback,
html.dark .quiz-feedback {
    color: #e2e8f0 !important;
}

/* Hint/Tip Boxes - Yellow Background Fix */
.dark .bg-yellow-50,
.dark-mode .bg-yellow-50,
html.dark .bg-yellow-50,
.dark .hint-box,
.dark-mode .hint-box,
html.dark .hint-box {
    background: rgba(234, 179, 8, 0.2) !important;
    border-left: 4px solid #fbbf24 !important;
}

.dark .bg-yellow-50 h3,
.dark .bg-yellow-50 h4,
.dark .bg-yellow-50 p,
.dark .bg-yellow-50 span,
.dark-mode .bg-yellow-50 h3,
.dark-mode .bg-yellow-50 h4,
.dark-mode .bg-yellow-50 p,
.dark-mode .bg-yellow-50 span,
html.dark .bg-yellow-50 h3,
html.dark .bg-yellow-50 h4,
html.dark .bg-yellow-50 p,
html.dark .bg-yellow-50 span {
    color: #fef3c7 !important;
    /* Amber-100 - Cream white for readability */
}

.dark .bg-yellow-50 .text-gray-800,
.dark .bg-yellow-50 .text-gray-700,
.dark-mode .bg-yellow-50 .text-gray-800,
.dark-mode .bg-yellow-50 .text-gray-700,
html.dark .bg-yellow-50 .text-gray-800,
html.dark .bg-yellow-50 .text-gray-700 {
    color: #fef9c3 !important;
    /* Bright yellow-white */
}

/* Hint Box Title - Bright Yellow */
.dark .bg-yellow-50 h3,
.dark .bg-yellow-50 h4,
.dark-mode .bg-yellow-50 h3,
.dark-mode .bg-yellow-50 h4,
html.dark .bg-yellow-50 h3,
html.dark .bg-yellow-50 h4 {
    color: #fbbf24 !important;
    /* Amber-400 - Bright yellow for titles */
}

/* Alert/Callout Boxes - General Fix */
.dark .alert,
.dark .callout,
.dark-mode .alert,
.dark-mode .callout,
html.dark .alert,
html.dark .callout {
    color: #f1f5f9 !important;
}

.dark .alert h4,
.dark .callout h4,
.dark-mode .alert h4,
.dark-mode .callout h4,
html.dark .alert h4,
html.dark .callout h4 {
    color: #ffffff !important;
}

/* Info Box Text (Blue background) */
.dark .bg-blue-50 h3,
.dark .bg-blue-50 h4,
.dark .bg-blue-50 p,
.dark-mode .bg-blue-50 h3,
.dark-mode .bg-blue-50 h4,
.dark-mode .bg-blue-50 p,
html.dark .bg-blue-50 h3,
html.dark .bg-blue-50 h4,
html.dark .bg-blue-50 p {
    color: #dbeafe !important;
    /* Blue-100 */
}

/* Challenge Box Text (Purple/Pink) */
.dark .text-theme,
.dark-mode .text-theme,
html.dark .text-theme {
    color: #5eead4 !important;
    /* Teal-300 - Visible on dark */
}

/* Practical Tip Box - Special Case */
.dark .border-yellow-400,
.dark-mode .border-yellow-400,
html.dark .border-yellow-400 {
    border-color: #fbbf24 !important;
}

.dark .border-yellow-400 h3,
.dark .border-yellow-400 p,
.dark-mode .border-yellow-400 h3,
.dark-mode .border-yellow-400 p,
html.dark .border-yellow-400 h3,
html.dark .border-yellow-400 p {
    color: #fef3c7 !important;
}

/* ============================================
   VIEW TRANSITIONS - Smooth page animations
   Neuro-UX: Fade reduces "pop-up" stress, creates flow
   ============================================ */

/* Exit animation: Current view fading out */
.view-exit-start {
    opacity: 1;
    transform: translateY(0);
}

.view-exit-active {
    opacity: 0;
    transform: translateY(-8px);
    transition:
        opacity 0.3s ease-out,
        transform 0.3s ease-out;
}

/* Enter animation: New view fading in */
.view-enter-start {
    opacity: 0;
    transform: translateY(8px);
}

.view-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition:
        opacity 0.3s ease-out,
        transform 0.3s ease-out;
}

/* ============================================
   HERO BANNER - Layout Stabilization
   ============================================ */

/* Hero/Banner section - Fixed minimum height */
.hero-banner,
#course-selection-view > div:first-child,
.hero-section {
    min-height: 300px;
    position: relative;
}

@media (min-width: 768px) {
    .hero-banner,
    #course-selection-view > div:first-child,
    .hero-section {
        min-height: 400px;
    }
}

/* ============================================
   YETI IMAGES - Reserved space to prevent CLS
   ============================================ */

/* Yeti peek image - Reserved dimensions */
img[src*='yeti-peek'],
img[src*='yeti-mascot'],
.yeti-image {
    /* Intrinsic size for layout */
    aspect-ratio: 1 / 1;
    object-fit: contain;
}

/* Small Yeti (card hover) */
.course-card img[src*='yeti-peek'] {
    width: 48px;
    height: 48px;
}

@media (min-width: 1024px) {
    .course-card img[src*='yeti-peek'] {
        width: 96px;
        height: 96px;
    }
}

/* Hero Yeti - Larger with reserved space */
.hero-banner img[src*='yeti'],
.hero-section img[src*='yeti'] {
    width: 120px;
    height: 120px;
}

@media (min-width: 768px) {
    .hero-banner img[src*='yeti'],
    .hero-section img[src*='yeti'] {
        width: 200px;
        height: 200px;
    }
}

/* Fade-in for images after load */
img {
    opacity: 1;
    transition: opacity 0.3s ease-in-out;
}

img[loading='lazy'] {
    opacity: 0;
}

img[loading='lazy'].loaded,
img.loaded {
    opacity: 1;
}

/* ============================================
   DROPDOWN MENU - Z-Index and Overflow Fix
   Teacher Panel card dropdown visibility
   ============================================ */

/* Dropdown menu high z-index to appear above cards */
.dropdown-menu {
    z-index: 50 !important;
    position: absolute;
}

/* Dropdown container needs position relative */
.dropdown-container {
    position: relative;
}

/* Glass card - Allow overflow for dropdowns */
.glass-card {
    overflow: visible !important;
    position: relative;
}

/* Classroom list grid - Allow overflow for dropdowns */
#classroomsList {
    overflow: visible;
}

/* Fix any parent overflow issues in teacher sections */
#teacherClassroomsSection,
.classrooms-grid {
    overflow: visible;
}
